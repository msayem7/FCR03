{"version":3,"file":"js/283.1c70e312.js","mappings":"ibA+CE,MAAMA,GAAWC,EAAAA,EAAAA,IAAI,IACfC,EAAgB,CACpB,EAAG,cACH,EAAG,UAGCC,EAAeC,UACnB,IACEC,EAAAA,EAAMC,IAAI,cAKV,MAAM,KAAEC,SAAeF,EAAAA,EAAMC,IAAI,cAEjCN,EAASQ,MAAQD,EACjBP,EAASQ,MAAMC,SAAQC,OAEzB,CAAE,MAAOC,GACPC,QAAQD,MAAM,0BAA2BA,EAC3C,GAGIE,EAAiBC,GACdd,EAASQ,MAAMO,MAAKC,GAAKA,EAAEC,WAAaH,KAASI,MAAQ,IAW5DC,EAAcC,GACX,IAAIC,KAAKD,GAAYE,qB,OAG9BC,EAAAA,EAAAA,IAAUpB,G,smCCnFZ,MAAMqB,EAAc,EAEpB,O","sources":["webpack://crf03/./src/views/BranchListView.vue","webpack://crf03/./src/views/BranchListView.vue?aa26"],"sourcesContent":["<template>\r\n    <div class=\"container mt-4\">\r\n      <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2>Branch Management</h2>\r\n        <router-link to=\"/branches/create\" class=\"btn btn-primary\">\r\n          <i class=\"bi bi-plus-circle me-2\"></i>Create New Branch\r\n        </router-link>\r\n      </div>\r\n  \r\n      <div class=\"card shadow\">\r\n        <div class=\"card-body\">\r\n          <table class=\"table table-hover\">\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Type</th>\r\n                <th>Parent</th>\r\n                <th>Last Updated</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"branch in branches\"  :key=\"branch.alias_id\">\r\n                <td>{{ branch.name }}</td>\r\n                <td>{{ branchTypeMap[branch.branch_type] }}</td>\r\n                <td>{{ getParentName(branch.parent) }}</td>\r\n                <td>{{ formatDate(branch.updated_at) }}</td>\r\n                <td>\r\n                  <router-link \r\n                    :to=\"`/branches/edit/${branch.alias_id}`\" \r\n                    class=\"btn btn-sm btn-outline-secondary me-2\"\r\n                  >\r\n                    Edit\r\n                  </router-link>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref, onMounted } from 'vue'\r\n  import axios from '@/plugins/axios'\r\n  \r\n  const branches = ref([])\r\n  const branchTypeMap = {\r\n    1: 'Head Office',\r\n    2: 'Branch'\r\n  }\r\n  \r\n  const loadBranches = async () => {\r\n    try {\r\n      axios.get('/branches/');\r\n     \r\n      // const response = await axios.get('/branches/');\r\n      // const data = response.data;\r\n      // the short form of above two lines is const { data } = await axios.get('/branches/') \r\n      const { data } = await axios.get('/branches/') \r\n      \r\n      branches.value = data\r\n      branches.value.forEach(branch => {\r\n      });\r\n    } catch (error) {\r\n      console.error('Error loading branches:', error)\r\n    }\r\n  }\r\n  \r\n  const getParentName = (parent) => {\r\n    return branches.value.find(b => b.alias_id === parent)?.name || '-'\r\n  }\r\n\r\n\r\n//   const formatDate(datetime) {\r\n//       if (!datetime) return '';\r\n//       const date = new Date(datetime);\r\n//       const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' };\r\n//       return date.toLocaleDateString(undefined, options);\r\n//     }\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString()\r\n  }\r\n  \r\n  onMounted(loadBranches)\r\n  </script>","import script from \"./BranchListView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BranchListView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["branches","ref","branchTypeMap","loadBranches","async","axios","get","data","value","forEach","branch","error","console","getParentName","parent","find","b","alias_id","name","formatDate","dateString","Date","toLocaleDateString","onMounted","__exports__"],"sourceRoot":""}